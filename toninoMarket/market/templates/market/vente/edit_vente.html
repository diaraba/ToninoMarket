{% extends 'market/base.html' %}

{% load static %}

    <head>
        <meta charset="utf-8">
        <title>Tonino Market</title>
        <link rel="stylesheet" href="{% static 'market\styles.css' %}" />
        <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
        <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
        {{form.media}}

    </head>

{% block content %}  

        <h2 class="display-5 text-center mb-4 mt-3">Mise a jour d'une vente</h2>

        <div class="row mb-4 mt-2">
                {% if form.errors %}
                    <div class="error">
                        <ul class="error-list">
                            {% for field, errors in form.errors.items %}
                                <li class="nav-item text-center alert alert-danger alert-dismissible fade show" role="alert">
                                    {{ field }}: {{ errors|join:", " }}
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                {% endif %}            
                <div class="col-md-6 h-100 shadow">
                    <form action="{% url 'edit_vente' vente.id %}" method="post" class="needs-validation" novalidate>  <!-- 1 -->
                        {% csrf_token %}  <!-- 2 -->

                        <div class="mb-3">
                            <label for="{{ form.categorie.id_for_label }}" class="form-label edit">Produit:</label>
                            {{ form.produit }}
                        </div>

                        <div class="mb-3">
                            <label for="{{ form.designation.id_for_label }}" class="form-label ">Client:</label>
                            {{ form.client }}
                        </div>

                        <div class="mb-3 ">
                            <label for="{{ form.prix.id_for_label }}" class="form-label ">Quantite :</label>
                            {{ form.quantite }}
                        </div>

            
                        <div class="spacing">
                            <a href="{% url 'achats_client' vente.client.id %}"  class="text_button   btn btn-light ">Autres achats du client</a>
                            <button class="btn btn-primary text_button text-white" type="submit">Enregistrer</button>
                        </div>

                    </form>
                </div>

                <div class="col-md-6 h-100 shadow p-2">

                    <img src="https://static.vecteezy.com/ti/photos-gratuite/p1/12802857-supermarche-epicerie-avec-etageres-de-fruits-et-legumes-fond-defocalise-interieur-avec-panier-rouge-vide-photo.jpg" alt="Image standard du mÃ©decin" class="img-fluid " style="min-height:300px; min-width: 500;">

                </div>
        </div>  
{% endblock %}